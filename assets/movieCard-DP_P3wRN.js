import{a as m,b as x,j as e,L as p,c as N,d as u}from"./index-Cbc3LIYS.js";import{I as f}from"./api-DuMgP0GV.js";function w({movie:a,index:l}){const t=m(),n=x(s=>s.favorites.items),i=s=>n.some(r=>r.id===s),o=()=>{i(a.id)?t(N(a)):t(u(a))};if(!a)return e.jsx("div",{className:"movie-card glass-card",children:e.jsx("div",{className:"movie-card-body",children:e.jsx("p",{className:"error-text",children:"Movie data is not available."})})});const c=s=>{if(s==null||s==="N/A")return"rating-unknown";const r=parseFloat(s);return r>=7?"rating-high":r>=5?"rating-medium":r>0?"rating-low":"rating-unknown"},d=s=>s==null||s==="N/A"?"N/A":parseFloat(s).toFixed(1),v=c(a.vote_average),h=d(a.vote_average);return e.jsx(p,{to:`/movie/${a.id}`,className:"movie-card-link fade-in-up stagger-animation",style:{"--index":l||0},children:e.jsxs("div",{className:"movie-card glow-on-hover",children:[e.jsxs("div",{className:"movie-poster-container",children:[e.jsx("img",{src:a.poster_path?`${f}${a.poster_path}`:"https://placehold.co/600x900/1a1a2e/00ffff?text=No+Image",alt:a.title||"No title",className:"movie-poster",loading:"lazy"}),e.jsx("div",{className:"poster-overlay",children:e.jsx("div",{className:"play-button",children:e.jsx("span",{className:"play-icon",children:"▶"})})}),e.jsx("button",{className:`favorite-button ${i(a.id)?"is-favorite":""}`,onClick:s=>{s.preventDefault(),s.stopPropagation(),o()},"aria-label":i(a.id)?"Remove from favorites":"Add to favorites",children:e.jsx("span",{className:"favorite-icon",children:i(a.id)?"♥":"♡"})})]}),e.jsxs("div",{className:"movie-card-body",children:[e.jsx("h2",{className:"movie-title",children:a.title||"No Title Available"}),e.jsxs("div",{className:"movie-meta",children:[e.jsxs("div",{className:`rating ${v}`,children:[e.jsx("span",{className:"rating-icon",children:"⭐"}),e.jsx("span",{className:"rating-value",children:h})]}),a.release_date&&e.jsx("div",{className:"release-year",children:new Date(a.release_date).getFullYear()})]}),a.overview&&e.jsx("p",{className:"movie-overview",children:a.overview.length>120?`${a.overview.substring(0,120)}...`:a.overview}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"view-details",children:[e.jsx("span",{children:"View Details"}),e.jsx("span",{className:"arrow",children:"→"})]})})]})]})})}export{w as M};
