import{g as _,r as c,j as o,u as J,a as P,b as Q,c as X,d as Z}from"./index-Cbc3LIYS.js";import{a as ee}from"./api-DuMgP0GV.js";var C={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var b;function se(){return b||(b=1,function(r){(function(){var e={}.hasOwnProperty;function a(){for(var t="",i=0;i<arguments.length;i++){var l=arguments[i];l&&(t=n(t,s(l)))}return t}function s(t){if(typeof t=="string"||typeof t=="number")return t;if(typeof t!="object")return"";if(Array.isArray(t))return a.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var i="";for(var l in t)e.call(t,l)&&t[l]&&(i=n(i,l));return i}function n(t,i){return i?t?t+" "+i:t+i:t}r.exports?(a.default=a,r.exports=a):window.classNames=a})()}(C)),C.exports}var re=se();const p=_(re),te=["xxl","xl","lg","md","sm","xs"],ae="xs",j=c.createContext({prefixes:{},breakpoints:te,minBreakpoint:ae}),{Consumer:me,Provider:xe}=j;function m(r,e){const{prefixes:a}=c.useContext(j);return r||a[e]||e}function I(){const{breakpoints:r}=c.useContext(j);return r}function D(){const{minBreakpoint:r}=c.useContext(j);return r}var R={exports:{}},T,B;function oe(){if(B)return T;B=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T=r,T}var w,F;function ne(){if(F)return w;F=1;var r=oe();function e(){}function a(){}return a.resetWarningCache=e,w=function(){function s(i,l,x,u,f,h){if(h!==r){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function n(){return s}var t={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:e};return t.PropTypes=t,t},w}var E;function ie(){return E||(E=1,R.exports=ne()()),R.exports}var ce=ie();const N=_(ce),k=r=>c.forwardRef((e,a)=>o.jsx("div",{...e,ref:a,className:p(e.className,r)})),g=c.forwardRef(({bsPrefix:r,bg:e="primary",pill:a=!1,text:s,className:n,as:t="span",...i},l)=>{const x=m(r,"badge");return o.jsx(t,{ref:l,...i,className:p(n,x,a&&"rounded-pill",s&&`text-${s}`,e&&`bg-${e}`)})});g.displayName="Badge";const S=c.forwardRef(({className:r,bsPrefix:e,as:a="div",...s},n)=>(e=m(e,"card-body"),o.jsx(a,{ref:n,className:p(r,e),...s})));S.displayName="CardBody";const A=c.forwardRef(({className:r,bsPrefix:e,as:a="div",...s},n)=>(e=m(e,"card-footer"),o.jsx(a,{ref:n,className:p(r,e),...s})));A.displayName="CardFooter";const q=c.createContext(null);q.displayName="CardHeaderContext";const H=c.forwardRef(({bsPrefix:r,className:e,as:a="div",...s},n)=>{const t=m(r,"card-header"),i=c.useMemo(()=>({cardHeaderBsPrefix:t}),[t]);return o.jsx(q.Provider,{value:i,children:o.jsx(a,{ref:n,...s,className:p(e,t)})})});H.displayName="CardHeader";const L=c.forwardRef(({bsPrefix:r,className:e,variant:a,as:s="img",...n},t)=>{const i=m(r,"card-img");return o.jsx(s,{ref:t,className:p(a?`${i}-${a}`:i,e),...n})});L.displayName="CardImg";const W=c.forwardRef(({className:r,bsPrefix:e,as:a="div",...s},n)=>(e=m(e,"card-img-overlay"),o.jsx(a,{ref:n,className:p(r,e),...s})));W.displayName="CardImgOverlay";const M=c.forwardRef(({className:r,bsPrefix:e,as:a="a",...s},n)=>(e=m(e,"card-link"),o.jsx(a,{ref:n,className:p(r,e),...s})));M.displayName="CardLink";const le=k("h6"),V=c.forwardRef(({className:r,bsPrefix:e,as:a=le,...s},n)=>(e=m(e,"card-subtitle"),o.jsx(a,{ref:n,className:p(r,e),...s})));V.displayName="CardSubtitle";const U=c.forwardRef(({className:r,bsPrefix:e,as:a="p",...s},n)=>(e=m(e,"card-text"),o.jsx(a,{ref:n,className:p(r,e),...s})));U.displayName="CardText";const de=k("h5"),z=c.forwardRef(({className:r,bsPrefix:e,as:a=de,...s},n)=>(e=m(e,"card-title"),o.jsx(a,{ref:n,className:p(r,e),...s})));z.displayName="CardTitle";const K=c.forwardRef(({bsPrefix:r,className:e,bg:a,text:s,border:n,body:t=!1,children:i,as:l="div",...x},u)=>{const f=m(r,"card");return o.jsx(l,{ref:u,...x,className:p(e,f,a&&`bg-${a}`,s&&`text-${s}`,n&&`border-${n}`),children:t?o.jsx(S,{children:i}):i})});K.displayName="Card";const O=Object.assign(K,{Img:L,Title:z,Subtitle:V,Body:S,Link:M,Text:U,Header:H,Footer:A,ImgOverlay:W});function pe({as:r,bsPrefix:e,className:a,...s}){e=m(e,"col");const n=I(),t=D(),i=[],l=[];return n.forEach(x=>{const u=s[x];delete s[x];let f,h,d;typeof u=="object"&&u!=null?{span:f,offset:h,order:d}=u:f=u;const y=x!==t?`-${x}`:"";f&&i.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),d!=null&&l.push(`order${y}-${d}`),h!=null&&l.push(`offset${y}-${h}`)}),[{...s,className:p(a,...i,...l)},{as:r,bsPrefix:e,spans:i}]}const v=c.forwardRef((r,e)=>{const[{className:a,...s},{as:n="div",bsPrefix:t,spans:i}]=pe(r);return o.jsx(n,{...s,ref:e,className:p(a,!i.length&&t)})});v.displayName="Col";const Y=c.forwardRef(({bsPrefix:r,fluid:e=!1,as:a="div",className:s,...n},t)=>{const i=m(r,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return o.jsx(a,{ref:t,...n,className:p(s,e?`${i}${l}`:i)})});Y.displayName="Container";N.string,N.bool,N.bool,N.bool,N.bool;const G=c.forwardRef(({bsPrefix:r,className:e,fluid:a=!1,rounded:s=!1,roundedCircle:n=!1,thumbnail:t=!1,...i},l)=>(r=m(r,"img"),o.jsx("img",{ref:l,...i,className:p(e,a&&`${r}-fluid`,s&&"rounded",n&&"rounded-circle",t&&`${r}-thumbnail`)})));G.displayName="Image";const $=c.forwardRef(({bsPrefix:r,className:e,as:a="div",...s},n)=>{const t=m(r,"row"),i=I(),l=D(),x=`${t}-cols`,u=[];return i.forEach(f=>{const h=s[f];delete s[f];let d;h!=null&&typeof h=="object"?{cols:d}=h:d=h;const y=f!==l?`-${f}`:"";d!=null&&u.push(`${x}${y}-${d}`)}),o.jsx(a,{ref:n,...s,className:p(e,t,...u)})});$.displayName="Row";function he(){const{id:r}=J(),[e,a]=c.useState(null),[s,n]=c.useState(!0),[t,i]=c.useState(null),l=P(),x=Q(d=>d.favorites.items),u=d=>x.some(y=>y.id===d),f=()=>{e&&(u(e.id)?l(X(e)):l(Z(e)))};if(c.useEffect(()=>{(async()=>{try{n(!0);const y=await ee(r);a(y)}catch(y){i("Failed to fetch movie details."),console.error("Error fetching movie details:",y)}finally{n(!1)}})()},[r]),s)return o.jsx("p",{className:"text-center mt-5",children:"Loading movie details..."});if(t)return o.jsx("p",{className:"text-center mt-5 text-danger",children:t});if(!e)return o.jsx("p",{className:"text-center mt-5",children:"Movie not found."});const h=d=>d>=7?o.jsx(g,{bg:"success",children:d.toFixed(1)}):d>=5?o.jsx(g,{bg:"warning",children:d.toFixed(1)}):o.jsx(g,{bg:"danger",children:d.toFixed(1)});return o.jsx(Y,{className:"mt-4 movie-details-page",children:o.jsx(O,{className:"shadow-lg",children:o.jsx(O.Body,{children:o.jsxs($,{className:"g-4 align-items-start",children:[o.jsxs(v,{xs:12,md:4,className:"text-center mb-4 mb-md-0",children:[o.jsx(G,{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,fluid:!0,rounded:!0,className:"shadow",style:{maxHeight:"500px",width:"100%",objectFit:"cover",background:"#f8f9fa"}}),o.jsx("button",{className:`favorite-button ${u(e.id)?"is-favorite":""}`,onClick:f,"aria-label":u(e.id)?"Remove from favorites":"Add to favorites",style:{position:"absolute",top:"10px",right:"10px",zIndex:10},children:o.jsx("span",{className:"favorite-icon",children:u(e.id)?"♥":"♡"})})]}),o.jsxs(v,{xs:12,md:8,className:"p-3 bg-white rounded-3",children:[o.jsx("h1",{className:"mb-3",children:e.title}),e.tagline&&o.jsx("p",{className:"lead fst-italic",children:e.tagline}),o.jsx("hr",{}),o.jsx("h5",{children:"Overview"}),o.jsx("p",{children:e.overview}),o.jsxs($,{className:"mb-3",children:[o.jsxs(v,{xs:6,sm:4,className:"mb-2",children:[o.jsx("strong",{children:"Release Date:"}),o.jsx("p",{children:e.release_date})]}),o.jsxs(v,{xs:6,sm:4,className:"mb-2",children:[o.jsx("strong",{children:"Rating:"}),o.jsx("p",{children:h(e.vote_average)})]}),o.jsxs(v,{xs:12,sm:4,className:"mb-2",children:[o.jsx("strong",{children:"Vote Count:"}),o.jsx("p",{children:e.vote_count})]})]})]})]})})})})}export{he as default};
